/*****************************************************************************
*                                                                            *
*  -------------------------------- list.c --------------------------------  *
*                                                                            *
*****************************************************************************/

#include <stdlib.h>
#include <string.h>

#include "list.h"

/*****************************************************************************
*                                                                            *
*  ------------------------------- list_init ------------------------------  *
*                                                                            *
*****************************************************************************/
void list_init(List *list, void (*destroy)(void *data))
{
    list->size = 0;
    list->destory = destory;
    list->head = NULL;
    list->tail = NULL;

    return ;
}

/*****************************************************************************
*                                                                            *
*  ----------------------------- list_destroy -----------------------------  *
*                                                                            *
*****************************************************************************/
void list_destroy(List *list) 
{

    void *data;

    while (list_size(list) > 0) {
        
        if (list_rem_next(list, NULL, (void **)&data) == 0 && 
            list->destroy != NULL) {
            list->destroy(data);
        }
    }
}


















